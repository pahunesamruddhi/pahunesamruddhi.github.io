import{a as E}from"https://app.framerstatic.com/chunk-ULG3WRAD.mjs";import{a as Nt,b as xt,c as Vt,d as Ft,e as Et,f as Ot,g as wt}from"https://app.framerstatic.com/chunk-OILZ7IYV.mjs";import{a as Tt,b as Dt}from"https://app.framerstatic.com/chunk-W2N4ILBL.mjs";import{a as Lt,h as St}from"https://app.framerstatic.com/chunk-QZ42UPGZ.mjs";import{a as Mt}from"https://app.framerstatic.com/chunk-IM24HCZX.mjs";import"https://app.framerstatic.com/chunk-FDX2C2EY.mjs";import{a as lt,b as pt,c as ct,e as Re,f as mt,g as ut,i as ft,o as ht,p as Ct,q as vt,r as ye,s as It,t as gt,u as Pt,v as Me,w as Ne,x as bt,y as Rt,z as yt}from"https://app.framerstatic.com/chunk-M7WQ66HE.mjs";import{a as dt,b as st}from"https://app.framerstatic.com/chunk-OBDEYB5N.mjs";import"https://app.framerstatic.com/chunk-SPWSWTND.mjs";import"https://app.framerstatic.com/chunk-OSM72S5R.mjs";import{c as ot,d as tt,f as ee}from"https://app.framerstatic.com/chunk-LWEL3PIX.mjs";import{a as et}from"https://app.framerstatic.com/chunk-H6KVM2ZQ.mjs";import{a as Yo}from"https://app.framerstatic.com/chunk-7DXZP63B.mjs";import{b as Y,c as jo,d as Zo,g as Ko,p as _o}from"https://app.framerstatic.com/chunk-UBPKMVPM.mjs";import{Ed as be,cb as Wo,kb as Uo,ki as Go,li as Qo,wg as Bo,xc as Pe,xg as Ho,yg as zo}from"https://app.framerstatic.com/chunk-3KYRDKC7.mjs";import"https://app.framerstatic.com/chunk-AWIB42JV.mjs";import"https://app.framerstatic.com/chunk-Y4KSD2WZ.mjs";import{a as rt}from"https://app.framerstatic.com/chunk-Y5OPUDMF.mjs";import{a as Jo}from"https://app.framerstatic.com/chunk-PHHO7KLI.mjs";import"https://app.framerstatic.com/chunk-75ILXMIH.mjs";import"https://app.framerstatic.com/chunk-2M6CHUK6.mjs";import{a as nt,b as at,c as it}from"https://app.framerstatic.com/chunk-SDISSWE6.mjs";import{i as $o}from"https://app.framerstatic.com/chunk-ZAZPOQZD.mjs";import{Jd as Fo,Ul as ko,xl as Do,zl as wo}from"https://app.framerstatic.com/chunk-XSK5RA72.mjs";import"https://app.framerstatic.com/chunk-6C6VSETA.mjs";import"https://app.framerstatic.com/chunk-FYUJQV6J.mjs";import"https://app.framerstatic.com/chunk-KYPY4QS7.mjs";import"https://app.framerstatic.com/chunk-SOM3QFWS.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import{e as qo}from"https://app.framerstatic.com/chunk-7F35QQ55.mjs";import{b as Xo}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import"https://app.framerstatic.com/chunk-N42NUTZC.mjs";import{i as Eo,v as ir}from"https://app.framerstatic.com/chunk-6L3K57UL.mjs";import"https://app.framerstatic.com/chunk-67IDBBKJ.mjs";import"https://app.framerstatic.com/chunk-GZI43NW3.mjs";import{Ad as oo,Ae as so,Ao as So,Bd as to,Bg as go,Cc as he,Cg as Po,G as Be,Ga as Ge,Gt as Ao,Hr as X,I as He,Ia as Z,Ij as Ro,Ke as _,Ma as Qe,Pf as mo,Rg as bo,Sd as ro,Se as J,Sf as uo,T as ze,Td as no,Te as lo,Tf as fo,Ud as ao,Um as yo,Yf as ho,_f as ve,bn as Mo,cf as po,db as Ze,ed as $e,fs as Oo,gb as Ke,he as io,id as _e,if as co,jd as Je,jg as Co,mc as K,ms as ge,od as z,og as vo,op as Ie,td as Xe,ud as Ce,vd as $,wb as fe,wg as Io,xd as Ye,yd as eo,yo as Lo,yr as To,zr as Vo}from"https://app.framerstatic.com/chunk-HEC5BPWT.mjs";import"https://app.framerstatic.com/chunk-AYYBTPZU.mjs";import{W as U,ba as No,g as me,ga as xo}from"https://app.framerstatic.com/chunk-F6CEPOPH.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import"https://app.framerstatic.com/chunk-REJ2XCEK.mjs";import"https://app.framerstatic.com/chunk-BUC334RG.mjs";import"https://app.framerstatic.com/chunk-JWJZZU4K.mjs";import"https://app.framerstatic.com/chunk-POQKH4YA.mjs";import{p as ue}from"https://app.framerstatic.com/chunk-Q2SFMATZ.mjs";import{b as k,f as qe,g as je,j as F}from"https://app.framerstatic.com/chunk-CMAEAGWD.mjs";import"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{Te as Ae,Xf as ar}from"https://app.framerstatic.com/chunk-BR6A4V35.mjs";import{a as w,b as S}from"https://app.framerstatic.com/chunk-JB2N3EQZ.mjs";import{j as Ue}from"https://app.framerstatic.com/chunk-4X7KIAE7.mjs";import"https://app.framerstatic.com/chunk-6E4TUQ3S.mjs";import{Na as We,Ra as j,W as H,la as Ee,qa as Oe,ua as De,ya as we,za as ke}from"https://app.framerstatic.com/chunk-EEV263O3.mjs";import{a as f}from"https://app.framerstatic.com/chunk-YOOGIIWU.mjs";import{a as Fe}from"https://app.framerstatic.com/chunk-HMF7T2NG.mjs";import{e as P,j as m}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var kt=new WeakMap;function xe(r){let e=kt.get(r);if(e)return e;let o=new Set;if((Do(r)||wo(r))&&o.add(r),r.children)for(let t of r.children){let n=xe(t);for(let a of n)o.add(a)}return kt.set(r,o),o}var V=P(w(),1),tr=P(ir(),1);var W=P(w(),1),Ht=P(S(),1),oe=(0,W.createContext)({nodeInTextEditorId:void 0,clipPath:void 0});oe.displayName="NodeInTextEditorContext";function Wt({children:r,nodeInTextEditorId:e,clipPath:o}){let t=(0,W.useMemo)(()=>({nodeInTextEditorId:e,clipPath:o??void 0}),[e,o]);return(0,Ht.jsx)(oe.Provider,{value:t,children:r})}function Ut(){let{nodeInTextEditorId:r}=(0,W.useContext)(oe);return r}function Bt(){let{clipPath:r}=(0,W.useContext)(oe);return r}var v=P(w(),1),qt=P(ar(),1);var te=P(w(),1),Gt=P(S(),1),zt=(0,te.createContext)(void 0);function At({children:r,update:e}){return(0,Gt.jsx)(zt.Provider,{value:e,children:r})}function Le(){return(0,te.useContext)(zt)}var re=P(w(),1),B=P(S(),1);function ne({context:r,children:e,fallback:o}){return(0,B.jsx)(re.Suspense,{fallback:(0,B.jsx)(dr,{context:r,children:o}),children:e})}function dr({context:r,children:e}){return(0,re.useLayoutEffect)(()=>r.loadingStateTracker.trackSuspense(),[r]),(0,B.jsx)(B.Fragment,{children:e})}function A(r,e){let o=new Set;o.add(e);let t=X(r,e);if(t){let n=Pt(t,{includeLocalizedValues:!0});for(let a of n)o.add(a)}return o}var c=P(S(),1);Be({target:He.canvas});function jt({context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,temporaryCollectionItemNodeId:n}){let a=(0,v.useContext)(J).activeLocale??void 0,i=(0,v.useMemo)(()=>{if(e&&t)return st(e,t,r.componentLoader)},[e,t,r.componentLoader]);if(e&&t)return(0,c.jsx)(ne,{context:r,children:(0,c.jsx)(po.Provider,{value:i,children:(0,c.jsx)(sr,{context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:a,temporaryCollectionItemNodeId:n})})})}function sr({context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n,temporaryCollectionItemNodeId:a}){let i=e.tree();f(i,"Must have a tree");let[s,d]=r.modulesRuntime.useComponentLoader(),p=e.getProvidedControlMap(i,void 0,s,d);f(p,"Control map must exist");let l=e.getProvidedValueMap(i,void 0,s,r.sandboxRepeaterData,d),u=(0,v.useMemo)(()=>{if(!p)return;let h=new Map;return h.set(e.id,p),h},[p,e.id]),C=(0,v.useMemo)(()=>{if(!l)return;let h=new Map;return h.set(e.id,l),h},[l,e.id]);return K(e)&&o?(0,c.jsx)(lr,{context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n,temporaryCollectionItemNodeId:a,combinedControlMap:u}):(0,c.jsx)(Zt,{context:r,webPageNode:e,breakpointNode:t,combinedControlMap:u,combinedValueMap:C,placeholderVariableIds:void 0,activeLocale:n})}function lr({context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n,temporaryCollectionItemNodeId:a,combinedControlMap:i}){let s=e.tree();f(s,"Must have a tree");let d=i?.get(e.id);f(d,"Control map must exist");let p=e.dataIdentifier,l=A(s,p);r.modulesRuntime.usePreloadedModules(...l);let[u,C]=r.modulesRuntime.useComponentLoader(),h=u.dataForIdentifier(p);f(h,"Data definition must exist after preloading module");let N=gt(s,u,d,e,t,n,o.id,"public-and-private"),R=ve(N);r.sandboxRepeaterData.set(e.id,R,d);let I=e.getProvidedValueMap(s,void 0,u,r.sandboxRepeaterData,C);f(I,"Value map must exist");let y=X(s,p),{patchedValueMap:L,placeholderVariableIds:g}=(0,v.useMemo)(()=>!!y&&o.id===a?pr(y,I):{patchedValueMap:I,placeholderVariableIds:new Set},[y,I,o.id,a]),b=(0,v.useMemo)(()=>{let x=new Map;return x.set(e.id,L),x},[L,e.id]);return(0,c.jsx)(Zt,{context:r,webPageNode:e,breakpointNode:t,combinedControlMap:i,combinedValueMap:b,placeholderVariableIds:g,activeLocale:n})}function pr(r,e){let o=new Map(e),t=new Set;for(let[n,a]of e){let i=r.getVariable(n);if(i){if(i.type==="string"){if(!(!a||k(a)&&a.trim()===""))continue;let d=i.options?.placeholder||i.description||i.name;o.set(n,d),t.add(n)}if(i.type==="richtext"){if(!(!a||k(a)&&Yo(a)))continue;o.set(n,`<p>${i.description||i.name}</p>`),t.add(n)}}}return{patchedValueMap:o,placeholderVariableIds:t}}function Zt({context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i}){return Ie(e)?(0,c.jsx)(ne,{context:r,children:(0,c.jsx)(mr,{context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i})}):(0,c.jsx)(G,{context:r,parentRenderId:e.id,node:o,parent:e,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:void 0})}var Kt={minHeight:"100vh",width:"auto"},cr=mt();function mr({context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i}){let s=(0,v.useRef)(null),d=(0,v.useRef)(null);r.modulesRuntime.usePreloadedModules(e.layoutTemplateIdentifier);let[p]=r.modulesRuntime.useComponentLoader(),l=ee(),u=ae(r.fetchClient,e),C=e.getResolvedControlPropValues(p,l,n,i,u),h=p.reactComponentForIdentifier(e.layoutTemplateIdentifier);f(h,"Component definition not found");let N=h.class,R=Ro(o)&&so(o)?o.width:void 0,{activeVariant:I,className:y,selectors:L}=ut(p,e.layoutTemplateIdentifier,R,cr)??{};(0,v.useLayoutEffect)(()=>{if(!s.current||!d.current)return;let b=Re(d.current);if(r.layoutMeasureQueue.add(o.id,s.current,b),!!L)for(let x of L){let O=s.current.querySelector(x);O&&r.layoutMeasureQueue.add(o.id,O,[],x)}},[r.layoutMeasureQueue,o.id,L]);let g=(0,v.useMemo)(()=>({ref:d}),[]);return(0,c.jsx)("div",{ref:s,className:y,children:(0,c.jsx)(N,{...C,style:Kt,variant:I,children:(0,c.jsx)(G,{context:r,parentRenderId:e.id,node:o,parent:e,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:g})})})}var G=(0,v.memo)(function({context:e,parentRenderId:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodePropOverrides:p}){let l=Y(o,t.id),u=t.tree();return t.cache.resetForRendering(),t.cache.setVariableValueAndControlMap(i,i,a,d,t,u,void 0),Ko(n,t),Fo(t)||t.resolveValue("visible",i)===!1?(e.sandboxVisibility.setVisible(l,!1),null):(e.sandboxVisibility.setVisible(l,!0),(0,c.jsx)(ne,{context:e,children:(0,c.jsx)(hr,{context:e,renderId:l,tree:u,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodePropOverrides:p})}))});function ur(r,e,o,t,n,a,i){let s=ae(r.fetchClient,o),d=o.getProps(r.componentLoader,n,a,s);if(z(t)&&(d.style??={},d.style.position="relative",d.style.width="100%",Ie(t)?(d.style.display="contents",d.style.position="relative",d._needsMeasure=!1,d["data-layout-template-root"]=!0):Object.assign(d.style,Kt)),Ce(o)){let p=yt(o,a);p&&(d.viewBox=p);let l=Rt(o,n,s);l&&(d.text=l)}if(d.id=e,i)for(let p in i){let l=i[p];p==="style"&&d.style?Object.assign(d.style,l):d[p]=l}return d}var fr=vo(Z);function hr({context:r,renderId:e,tree:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodePropOverrides:p}){let l=ur(r,e,t,n,i,d,p);if(eo(t))return(0,c.jsx)(go,{...l});if(to(t))return Ne(t),(0,c.jsx)(Z,{...l,as:"svg",children:t.children.map(u=>{let C=Y(e,u.id);return Me(u,r.componentLoader,i,r.sandboxVisibility,C,!1,void 0)})});if(yo(t))return Ne(t),Me(t,r.componentLoader,i,r.sandboxVisibility,e,!0,l);if(Xe(t))return(0,c.jsx)(Po,{...l});if(Ce(t))return(0,c.jsx)(Cr,{context:r,node:t,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodeProps:l,renderId:e});if($e(t))return _e(t)?(0,c.jsx)(Nr,{context:r,renderId:e,tree:o,node:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodeProps:l}):Je(t)?(0,c.jsx)(xr,{context:r,renderId:e,tree:o,node:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodeProps:l}):(0,c.jsx)(gr,{context:r,renderId:e,tree:o,node:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodeProps:l});if(ro(t))return(0,c.jsx)(Bo,{...l});if(ao(t))return(0,c.jsx)(zo,{...l,node:t,tree:o,componentLoader:r.componentLoader,combinedValueMap:i,activeLocale:d});if(no(t)){let u=o.getGroundNodeFor(t).id;return(0,c.jsx)(Ho,{...l,groundNodeId:u})}return Ye(t)?null:$(t)?t.isVectorInstance?(0,c.jsx)(Rr,{node:t,context:r,nodeProps:l,combinedValueMap:i,activeLocale:d}):(0,c.jsx)(br,{context:r,renderId:e,node:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:s,activeLocale:d,nodeProps:l}):(io(t),null)}var Cr=(0,v.memo)(function({context:e,node:o,combinedValueMap:t,placeholderVariableIds:n,activeLocale:a,nodeProps:i,renderId:s}){let d=o.getFontsForLoading();e.fontLoader.usePreloadedFonts(...d),i={...i};let p=Ut(),l=Bt();if(p===s)if(l){let C=i.style??{};i.style={...C,clipPath:l}}else i.isEditable=!0;Pr(o,n)&&(i.opacity=.3);let u=(0,v.useMemo)(()=>bt(o,t,a),[o,t,a]);if(fe(o.htmlContent)&&o.getComponentPresets().size>0){let C=o.tree();return f(C,"Must have a tree"),(0,c.jsx)(lt,{tree:C,componentLoader:e.componentLoader,node:o,richTextProps:i,children:u})}return(0,c.jsx)(Io,{...i,children:u})});function Se({node:r,nodeProps:e,children:o}){let t=(0,v.useRef)(null),n=e.ref??t,a=vr(r);Ge(e,n,a);let i=Ir(r);return(0,c.jsx)(i,{...e,ref:n,children:o})}function vr(r){return he(r)?pt:Re}function Ir(r){return he(r)?fr:Z}function $t({moveState:r,...e}){let{parentRenderId:o,node:t}=e,n=Y(o,t.id),a;r&&n===r.renderId&&(a={style:{left:r.rect.left,top:r.rect.top,alignSelf:"unset",justifySelf:"unset",placeSelf:"unset",zIndex:999999,width:r.rect.width,height:r.rect.height,position:"absolute",outline:`1px solid ${Eo.onPageHighlightBorderDragging}`}});let i=(0,c.jsx)(G,{...e,nodePropOverrides:a});return r&&n===r.renderId?(0,c.jsxs)(v.Fragment,{children:[(0,c.jsx)(ct,{width:r.placeholder.attributes.width,height:r.placeholder.attributes.height}),(0,qt.createPortal)(i,document.body)]}):i}function _t(r,e){let o=r.getChildrenInVisualOrder();if(e&&e.placeholder.nodeId===r.id){let t=o.findIndex(n=>n.id===e.nodeId);return We.move([...o],t,e.placeholder.index)}return o}function gr({context:r,renderId:e,node:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodeProps:s}){let d=Le(),p=_t(o,d);return(0,c.jsx)(Se,{node:o,nodeProps:s,children:p.map(l=>(0,c.jsx)($t,{context:r,parentRenderId:e,node:l,parent:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,moveState:d},l.id))})}function Pr(r,e){return e?Qt(r.htmlContent,e)||Qt(r.textContent,e):!1}function Qt(r,e){return fe(r)?e.has(r.id):!1}function br({context:r,renderId:e,node:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodeProps:s}){let d=o.tree();f(d,"Must have a tree"),r.modulesRuntime.usePreloadedModules(o.codeComponentIdentifier);let[p]=r.modulesRuntime.useComponentLoader(),l=p.reactComponentForIdentifier(o.codeComponentIdentifier);f(l,"Component definition not found");let u=ee(),C=ae(r.fetchClient,o),h=o.getCodeComponentProps(p,u,n,i,C),N=Go(d,o,p);N.children=Qo(d,o,p);for(let g in N){let b=N[g];b&&(h[g]=b.map(x=>{let O=Zo(e,o.id,g,x.key);return(0,c.jsx)(G,{context:r,parentRenderId:O,node:x.node,parent:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:Mr},x.key)}))}let R=o.getRichTextControlKeys(p);for(let g of R){let b=h[g];k(b)&&(h[g]=$o(b))}let I=o.getComponentVectorSetChildren(p,n),y=new Set;for(let g in I){let b=I[g];F(b)||(y.add(b),r.modulesRuntime.preloadModule(b))}r.modulesRuntime.usePreloadedModules(...y);for(let g in I){let b=I[g];if(F(b))continue;let x=p.reactComponentForIdentifier(b);f(x,"Vector definition not found"),h[g]=x.class}let L=l.class;return(0,c.jsx)(ft,{componentLoader:p,...s,children:(0,c.jsx)(L,{...h})})}function Rr({context:r,node:e,nodeProps:o,combinedValueMap:t,activeLocale:n}){let[a]=r.modulesRuntime.useComponentLoader(),i=ee(),s=ae(r.fetchClient,e);return ht({node:e,frameProps:o,getCodeComponentProps(){return e.getCodeComponentProps(a,i,t,n,s)},combinedValueMap:t,renderVectorWithIdentifier(d,p){return(0,c.jsx)(yr,{context:r,identifier:d,getProps:p})}})}function yr({context:r,identifier:e,getProps:o}){r.modulesRuntime.preloadModule(e),r.modulesRuntime.usePreloadedModules(e);let[t]=r.modulesRuntime.useComponentLoader(),n=t.reactComponentForIdentifier(e);f(n,"Component definition not found");let a=o(),i=n.class;return(0,c.jsx)(i,{...a})}var Mr={position:"relative"};function Nr({context:r,renderId:e,tree:o,node:t,combinedControlMap:n,combinedValueMap:a,placeholderVariableIds:i,activeLocale:s,nodeProps:d}){let p=A(o,t.dataIdentifier);r.modulesRuntime.usePreloadedModules(...p);let[l,u]=r.modulesRuntime.useComponentLoader(),C=t.getProvidedControlMap(o,void 0,l,u);f(C,"Control map must exist");let h=ge(o,t),N=t.getPrimaryId(),R=(0,v.useMemo)(()=>{let T=new Map(n);return T.set(N,C),T},[C,n,N]),I=_o(t,R,Ct(o,t),T=>h?{type:"LiteralValue",value:h.cache.getVariableReferenceValue(T,a)}:{type:"LiteralValue",value:void 0},T=>It(o,l,t,T,s));ko(t)&&vt(I,t);let y=ve(I);r.sandboxRepeaterData.set(e,y,C);let L=y.length,g=(0,v.useMemo)(()=>y.map((T,D)=>{let Q=new Map(a),q=ye(o,C,T,D,L);return Q.set(N,q),Q}),[o,C,a,N,y,L]),{nonRepeatedChildCombinedControlMap:b,nonRepeatedChildCombinedValueMap:x}=Pe(n,a,N,L),O=Jt({context:r,renderId:e,node:t,repeatedChild:h,items:y,repeatedChildCombinedValueMapPerItem:g,repeatedChildCombinedControlMap:R,nonRepeatedChildCombinedControlMap:b,nonRepeatedChildCombinedValueMap:x,placeholderVariableIds:i,activeLocale:s});return(0,c.jsx)(Se,{node:t,nodeProps:d,children:O})}function xr({context:r,renderId:e,tree:o,node:t,combinedControlMap:n,combinedValueMap:a,placeholderVariableIds:i,activeLocale:s,nodeProps:d}){f(a,"Combined value map must exist");let[p,l]=r.modulesRuntime.useComponentLoader(),u=t.getProvidedControlMap(o,void 0,p,l);f(u,"Control map must exist");let C=t.dataRepeaterArray,h=C.providerId;f(h,"Variable must have providerId");let N=a.get(h);f(N,"Provider value map must exist");let R=N.get(C.id);f(je(R)&&R.every(qe),"Invalid array value");let I=t.getPrimaryId(),y=ge(o,t),L=(0,v.useMemo)(()=>{let D=new Map(n);return D.set(I,u),D},[u,n,I]),g=R.length,b=(0,v.useMemo)(()=>R.map((D,Q)=>{let q=new Map(a),nr=ye(o,u,D,Q,g);return q.set(I,nr),q}),[o,u,a,I,R,g]),{nonRepeatedChildCombinedControlMap:x,nonRepeatedChildCombinedValueMap:O}=Pe(n,a,I,g),T=Jt({context:r,renderId:e,node:t,repeatedChild:y,items:R,repeatedChildCombinedValueMapPerItem:b,repeatedChildCombinedControlMap:L,nonRepeatedChildCombinedControlMap:x,nonRepeatedChildCombinedValueMap:O,placeholderVariableIds:i,activeLocale:s});return(0,c.jsx)(Se,{node:t,nodeProps:d,children:T})}function Jt({context:r,renderId:e,node:o,repeatedChild:t,items:n,repeatedChildCombinedValueMapPerItem:a,repeatedChildCombinedControlMap:i,nonRepeatedChildCombinedValueMap:s,nonRepeatedChildCombinedControlMap:d,placeholderVariableIds:p,activeLocale:l}){let u=Le();return _t(o,u).map(h=>h.id===t?.id?n.map((N,R)=>{let I=N.id,y=k(I)?I:R,L=a[R],g=jo(e,o.id,y,R);return(0,c.jsx)(G,{context:r,parentRenderId:g,node:h,parent:o,combinedControlMap:i,combinedValueMap:L,placeholderVariableIds:p,activeLocale:l,nodePropOverrides:void 0},y)}):(0,c.jsx)($t,{context:r,parentRenderId:e,node:h,parent:o,combinedControlMap:d,combinedValueMap:s,placeholderVariableIds:p,activeLocale:l,moveState:u},h.id))}function ae(r,e){return o=>{let t=Ze(o);if(!Ft(t))return Et(e,t.controlProp);let n=Ke(t,s=>e.cache.getVariableReferenceValue(s)),a=mo({url:n,credentials:t.credentials}),i=r.getValue(a);if(i)return Ot(e,t,i);throw r.fetchWithCache({url:n,cacheDuration:t.cacheDuration,credentials:t.credentials})}}var ie=P(w(),1);var Yt=P(S(),1);function Xt({tree:r,children:e}){let o=Mt();(0,ie.useLayoutEffect)(()=>{let n=o?"dark":"light";document.body.setAttribute("data-framer-theme",n)},[o]);let t=(0,ie.useMemo)(()=>Mo(Wo.getTokenNodes(r),o),[r,o]);return(0,Yt.jsx)(Co,{customProperties:t,children:e})}var de=class{constructor(){m(this,"loaders",new Map)}preloadFonts(...e){for(let o of e){if(this.loaders.has(o))continue;let t=new _(async()=>{await U.loadFonts([o])});t.preload(),this.loaders.set(o,t)}}usePreloadedFonts(...e){for(let o of e){let t=this.loaders.get(o);t&&t.use()}}};var se=class{constructor(){m(this,"promises",new Set)}trackSuspense(){let e=new j;return this.promises.add(e),()=>{e.resolve(),this.promises.delete(e)}}async waitForSuspense(){this.promises.size!==0&&(await Promise.all(this.promises),await this.waitForSuspense())}};var or=P(w(),1);var Ve=class{constructor(e,o){this.modulesRuntime=e;this.identifier=o;m(this,"loaderPromise",new j);m(this,"loader",new _(()=>this.loaderPromise))}async evaluate(e){let o=await St(e),t=[];await Lt(this.modulesRuntime.queryEngine,this.identifier,o,t,void 0,0),await this.modulesRuntime.updateComponentLoader(t),this.loaderPromise.resolve(),this.modulesRuntime.notifyReactComponents()}},le=class{constructor(e){this.sandbox=e;m(this,"componentLoaderHash",0);m(this,"reactComponentListeners",new Set);m(this,"localModules",new Map);m(this,"loadedModules",new Map);m(this,"queryEngine",new ho);m(this,"reactExternalStore",{subscribe:e=>(this.reactComponentListeners.add(e),()=>{this.reactComponentListeners.delete(e)}),getSnapshot:()=>this.componentLoaderHash})}useComponentLoader(){let e=(0,or.useSyncExternalStore)(this.reactExternalStore.subscribe,this.reactExternalStore.getSnapshot);return[this.sandbox.componentLoader,String(e)]}async updateComponentLoader(e){this.sandbox.componentLoader.updateModuleEntities(e),await this.sandbox.remoteComponentsStore.updateComponentLoader(Tt(e),this.componentLoaderHash++)}notifyReactComponents(){for(let e of this.reactComponentListeners)e()}getLocalModuleURL(e){let o=this.localModules.get(e.localId);if(o)return o.moduleURL}getExternalModuleURL(e){return`${Fe().modulesCDN}/${e.moduleId}/${e.saveId}/${e.file}`}getModuleURL(e){return Ee(e)?this.getExternalModuleURL(e):this.getLocalModuleURL(e)}async loadModule(e){return this.preloadModule(e),this.getPreloadedModule(e).loader.readMaybeAsync()}preloadModule(e){let o=er(e);if(this.loadedModules.get(o.value))return;let n=new Ve(this,o);this.loadedModules.set(o.value,n);let a=this.getModuleURL(o);a&&n.evaluate(a).catch(H)}getPreloadedModule(e){let o=er(e),t=this.loadedModules.get(o.value);return f(t,"Module not preloaded"),t}usePreloadedModules(...e){let o=[];for(let t of e){let a=this.getPreloadedModule(t).loader.preload();a&&o.push(a)}if(o.length>0)throw Promise.all(o)}updateDependenciesModule(e){let o=JSON.parse(e.importMapContent);Te(o,"framer-user-importmap")}updateLocalModules(e){let o=new Map,t=new Set;for(let[,n]of e){f(n.kind!=="fast-refresh","Fast-refresh is not supported");let a=n.localId;o.set(a,n),this.localModules.get(a)?.moduleURL!==n.moduleURL&&t.add(a)}this.localModules=o,this.updateLocalModulesImportMap();for(let n of t){let a=Oe(n),i=this.loadedModules.get(a.value);if(i){let s=this.getLocalModuleURL(a);s&&i.evaluate(s).catch(H)}}}updateLocalModulesImportMap(){let e={imports:{}};for(let[o,t]of this.localModules){let n=t.files.module;if(!n)continue;let a=ke(o,n);e.imports[a]=t.moduleURL}Te(e,"framer-local-modules")}insertTemporaryImportMap(e){let o=crypto.randomUUID();Te(e,o)}};function er(r){let e=De(r);return f(e,"Invalid module identifier"),we(e)}function Te(r,e){let o=document.createElement("script");o.type="importmap-shim",o.id=e,o.innerHTML=JSON.stringify(r);let t=document.getElementById(e);t?t.replaceWith(o):document.body.appendChild(o)}var M=P(S(),1),pe=class{constructor(e){this.container=e;m(this,"reactRoot");m(this,"needsRender",!1);m(this,"assetMap",new No);m(this,"fontLoader",new de);m(this,"componentLoader",new Lo);m(this,"modulesRuntime",new le(this));m(this,"fetchClient",new uo);m(this,"loadingStateTracker",new se);m(this,"sandboxRepeaterData",new et("sandbox"));m(this,"sandboxVisibility",new ot("sandbox"));m(this,"optimizedCanvasImageRenderer",new Vt);m(this,"partialTreeReceiver",new Nt(this.componentLoader));m(this,"controlsVisibility",new Dt(this.componentLoader,this.partialTreeReceiver));m(this,"presetsListNode");m(this,"activeLocaleId");m(this,"webPageNodeId");m(this,"webPageNode");m(this,"collectionItemNodeId");m(this,"collectionItemNode");m(this,"breakpointNodeId");m(this,"breakpointNode");m(this,"nodeInTextEditorId");m(this,"nodeInTextEditorClipPath",null);m(this,"temporaryCollectionItemNodeId");m(this,"remoteComponentsStore");m(this,"remoteSandboxStore");m(this,"remoteTreeStore");m(this,"moveToolState");m(this,"layoutMeasureQueue",new wt({shouldMeasureCallback:()=>{let e=this.measureLayout();e&&this.remoteTreeStore.onLayoutMeasure(e)},shouldMeasureCallbackDelayMs:0}));this.reactRoot=(0,tr.createRoot)(this.container);let o=new rt(E);o.setLocal(E.channels.sandbox,this),o.setLocal(E.channels.controlsVisibility,this.controlsVisibility),o.setLocal(E.channels.modulesRuntime,this.modulesRuntime),o.setLocal(E.channels.flags,this),this.remoteComponentsStore=o.getRemote(E.channels.componentsStore),this.remoteSandboxStore=o.getRemote(E.channels.sandboxStore),this.remoteTreeStore=o.getRemote(E.channels.treeStore),this.connectRpc(o).catch(H)}get tree(){return this.partialTreeReceiver.tree}async connectRpc(e){await e.connect({target:window.parent,url:qo(document.referrer).origin}),new ResizeObserver(t=>{f(t.length===1,"Invalid length");let n=t[0];f(n,"Invalid entry"),f(n.target===this.container,"Invalid target"),this.breakpointNode&&this.layoutMeasureQueue.remeasureNode(this.breakpointNode),this.remoteSandboxStore.oneway.onHeightChange(n.contentRect.height)}).observe(this.container)}measureLayout(){if(!this.webPageNode||!this.breakpointNode)return;let e=new Set;e.add(this.breakpointNode.id);let o=this.layoutMeasureQueue.process({groundNodesInViewport:e,offsetX:0,offsetY:0,scopeId:this.webPageNode.id,tree:this.tree,zoom:1});if(o.length!==0)return o}scrollTo(e){if(window.scrollTo(e),this.breakpointNode){for(let o of xe(this.breakpointNode))this.layoutMeasureQueue.remeasureNode(o);this.layoutMeasureQueue.remeasureNode(this.breakpointNode)}}update(e){let o=e.partialTreeUpdate;o&&(this.partialTreeReceiver.update(o),this.preloadTree());let t=e.webPageNodeId;t&&(this.webPageNodeId=t);let n=e.collectionItemNodeId;n&&(this.collectionItemNodeId=n);let a=e.breakpointNodeId;a&&(this.breakpointNodeId=a);let i=e.stylePresetBreakpointClassNames;k(i)&&(this.container.className=i);let s=e.dependenciesModule;s&&this.modulesRuntime.updateDependenciesModule(s);let d=e.localModules;d&&this.modulesRuntime.updateLocalModules(d);let p=e.assets;p&&(this.assetMap.set(p),U.importCustomFonts(this.assetMap.items(),ue.isOn("customFontGrouping"))),this.nodeInTextEditorId!==e.nodeInTextEditorId&&!F(e.nodeInTextEditorId)&&(this.nodeInTextEditorId=e.nodeInTextEditorId,this.needsRender=!0),!F(e.nodeInTextEditorClipPath)&&this.nodeInTextEditorClipPath!==e.nodeInTextEditorClipPath&&(this.nodeInTextEditorClipPath=e.nodeInTextEditorClipPath,this.needsRender=!0),this.temporaryCollectionItemNodeId!==e.temporaryCollectionItemNodeId&&!F(e.temporaryCollectionItemNodeId)&&(this.temporaryCollectionItemNodeId=e.temporaryCollectionItemNodeId,this.needsRender=!0),F(e.moveToolState)||(this.moveToolState=e.moveToolState,this.needsRender=!0),F(e.activeLocaleId)||(this.activeLocaleId=e.activeLocaleId,this.needsRender=!0),this.updateWebPageNode(),this.updateCollectionItemNode(),this.updateBreakpointNode(),this.updatePresetsListNode(),this.render()}preloadWebPage(){if(this.webPageNode){for(let e of this.webPageNode.walk())if($(e)&&this.modulesRuntime.preloadModule(e.codeComponentIdentifier),z(e)&&e.layoutTemplateIdentifier&&this.modulesRuntime.preloadModule(e.layoutTemplateIdentifier),K(e)&&this.modulesRuntime.preloadModule(e.dataIdentifier),xt(e)){let o=e.getFontsForLoading();this.fontLoader.preloadFonts(...o)}}}preloadTree(){let e=Oo(this.tree)?.loaded;if(e)for(let t of e.children){let n=A(this.tree,t.instanceIdentifier);for(let a of n)this.modulesRuntime.preloadModule(a)}let o=be.get(this.tree);if(o){for(let t of o.children)if(Uo(t)){let n=t.getFontsForCodeGeneration();this.fontLoader.preloadFonts(...n)}}}updateWebPageNode(){let e=this.tree.getNodeWithTrait(this.webPageNodeId,z)?.loaded;this.webPageNode!==e&&(this.needsRender=!0,this.webPageNode=e,this.preloadWebPage())}updateCollectionItemNode(){let e=this.tree.getNodeWithTrait(this.collectionItemNodeId,oo)??void 0;this.collectionItemNode!==e&&(this.needsRender=!0,this.collectionItemNode=e)}updateBreakpointNode(){let e=this.tree.get(this.breakpointNodeId)??void 0;this.breakpointNode!==e&&(this.needsRender=!0,this.breakpointNode=e)}updatePresetsListNode(){let e=be.get(this.tree)??void 0;this.presetsListNode!==e&&(this.needsRender=!0,this.presetsListNode=e)}async onRendered(e){await this.loadingStateTracker.waitForSuspense(),this.breakpointNode&&e&&this.remoteSandboxStore.onInitialLoadComplete(e),this.remoteTreeStore.onSandboxRendered({layoutMeasurements:this.measureLayout(),repeaterUpdates:this.sandboxRepeaterData.export(),visibilityUpdates:this.sandboxVisibility.export()})}render(){this.needsRender&&((0,V.startTransition)(()=>{this.reactRoot.render((0,M.jsx)(V.StrictMode,{children:(0,M.jsxs)(Lr,{webPageNodeId:this.webPageNodeId,onRendered:this.onRendered.bind(this),children:[(0,M.jsx)(Xt,{tree:this.tree,children:(0,M.jsx)(co,{children:(0,M.jsx)(Ae,{isStatic:!0,children:(0,M.jsx)(Sr,{tree:this.tree,activeLocaleId:this.activeLocaleId,children:(0,M.jsx)(fo,{client:this.fetchClient,children:(0,M.jsx)(ze,{parentSize:1,children:(0,M.jsx)(Wt,{nodeInTextEditorId:this.nodeInTextEditorId,clipPath:this.nodeInTextEditorClipPath,children:(0,M.jsx)(At,{update:this.moveToolState,children:(0,M.jsx)(jt,{context:this,webPageNode:this.webPageNode,collectionItemNode:this.collectionItemNode,breakpointNode:this.breakpointNode,temporaryCollectionItemNodeId:this.temporaryCollectionItemNodeId})})})})})})})})}),(0,M.jsx)(dt,{componentLoader:this.componentLoader,presetsListNode:this.presetsListNode})]})}))}),this.needsRender=!1)}updateExperiments(e){ue.update(e)}updateProjectFeatures(e){Ao.update(e)}updateEmployeesOnlySettings(e){Jo.update(e)}};function Lr({children:r,webPageNodeId:e,onRendered:o}){return(0,V.useEffect)(()=>{o(e)}),(0,M.jsx)(M.Fragment,{children:r})}function Sr({tree:r,activeLocaleId:e,children:o}){let t=To(r,"excludeDrafts"),n=Vo(r,e,"excludeDrafts"),a=(0,V.useMemo)(()=>({activeLocale:n,locales:t,setLocale:Xo}),[n,t]),i=r.root.adaptLayoutToTextDirection,s=a.activeLocale?.textDirection??"ltr",d=i?s:"ltr";return(0,V.useLayoutEffect)(()=>{i?document.documentElement.setAttribute("dir",s):document.documentElement.removeAttribute("dir")},[i,s]),(0,M.jsx)(J.Provider,{value:a,children:(0,M.jsx)(lo.Provider,{value:d,children:o})})}Object.assign(window,{Framer:bo});Ue({name:"canvas",security:{}});var rr=document.querySelector("main");f(rr,"Container element not found");var ce=new pe(rr),Tr=tt(ce.assetMap);U.importFramerFonts(So);Qe({isOnPageCanvas:!0,assetResolver:Tr,queueMeasureRequest(...r){ce.layoutMeasureQueue.add(...r)},enableFontStore:!0,fetchGoogleFontsList:it,fetchFontshareFontsList:at,fetchBuiltInFontsList:nt,imagePlaceholderSvg:'<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h64v64H0V0Z" fill="#222" fill-opacity=".8"/><path d="M64 12.4 12.4 64H11l53-53v1.4ZM64 33.7 33.7 64h-1.4L64 32.3v1.4ZM64 55l-9 9h-1.4L64 53.6v1.5ZM12.4 0 0 12.4V11L11 0h1.4ZM33.7 0 0 33.7v-1.4L32.3 0h1.4ZM55 0 0 55v-1.4L53.6 0h1.5Z" fill="#888" fill-opacity=".2"/></svg>',useImageSource(r){if(!r.src)return"";let e=xo(r.src);return e?me(e.identifier):me(r.src)},canRenderOptimizedCanvasImage:ce.optimizedCanvasImageRenderer.canRenderCanvasImage,renderOptimizedCanvasImage:ce.optimizedCanvasImageRenderer.renderCanvasImage});
//# sourceMappingURL=https://app.framerstatic.com/canvas-sandbox-on-page.3CFKBBEH.mjs.map
