# Portfolio Builder — Multi-Agent System
## Samruddhi Pahune · AI Systems Designer

A 5-agent Claude Code pipeline that rebuilds your portfolio from source material — with strategy, research, criticism, copy, and design handled by specialised agents.

---

## How It Works

```
Source Material
     │
     ▼
┌─────────────────┐
│  Agent 1        │  Reads all source files
│  STRATEGIST     │  → Defines positioning, audience, narrative arc
└────────┬────────┘
         │ positioning-brief.md
         ▼
┌─────────────────┐
│  Agent 2        │  Reads source + positioning brief
│  RESEARCHER     │  → Identifies evidence gaps, unsupported claims
└────────┬────────┘
         │ evidence-gaps.md
         ▼
┌─────────────────┐
│  Agent 3        │  Reads everything above
│  CRITIC         │  → Audits narrative structure (Simon Pan + Jobs)
└────────┬────────┘
         │ case-study-audit.md
         ▼
┌─────────────────┐
│  Agent 4        │  Reads everything above
│  NARRATOR       │  → Writes all final portfolio copy
└────────┬────────┘
         │ final-copy.md
         ▼
┌─────────────────┐
│  Agent 5        │  Reads final copy + all context
│  DESIGNER       │  → Builds production HTML portfolio
└────────┬────────┘
         │ index.html
         ▼
   Your Portfolio
```

---

## Setup

### 1. Install Claude Code
```bash
npm install -g @anthropic-ai/claude-code
```

### 2. Clone / navigate to this project
```bash
cd portfolio-agents
```

### 3. Verify source files
```
source/
  cs1-presentation.md      ← Case Study 1 raw content (pre-populated)
  cs2-storytelling.md      ← Case Study 2 storytelling brief (pre-populated)
  existing-site-content.md ← Your current site content
  reference-image.jpg      ← Copy your visual reference image here
```

### 4. Add your reference image
```bash
cp /path/to/your-reference.jpg source/reference-image.jpg
```

---

## Running the Pipeline

### Full run (all 5 agents):
```bash
bash scripts/run-all.sh
```

### Partial run (start from a specific agent):
```bash
bash scripts/run-all.sh 3    # Start from Agent 3 (Critic)
bash scripts/run-all.sh 4    # Start from Agent 4 (Narrator)
bash scripts/run-all.sh 5    # Regenerate HTML only
```

### Run a single agent manually:
```bash
claude --print < agents/01-strategist.md
```

---

## Output Files

After running, check `outputs/`:

| File | From Agent | Contents |
|------|-----------|----------|
| `positioning-brief.md` | Strategist | Audience profiles, narrative arc, language rules |
| `evidence-gaps.md` | Researcher | Claim inventory, missing metrics, retrieval suggestions |
| `case-study-audit.md` | Critic | Structural issues, buried leads, prescribed fixes |
| `final-copy.md` | Narrator | All copy: hero, case studies, about |
| `index.html` | Designer | Complete portfolio — open in browser |

---

## Iterating

### Update positioning only:
Edit `CLAUDE.md` → run from Agent 1:
```bash
bash scripts/run-all.sh 1
```

### Add new case study:
1. Add `source/cs3-[name].md`
2. Update agent prompts to reference new file
3. Run from Agent 2:
```bash
bash scripts/run-all.sh 2
```

### Redesign only (same copy):
```bash
bash scripts/run-all.sh 5
```

### Fix a specific case study section:
Edit `outputs/case-study-audit.md` directly → run from Agent 4:
```bash
bash scripts/run-all.sh 4
```

---

## Agent Files

```
agents/
  01-strategist.md    ← Positioning & narrative architect
  02-researcher.md    ← Evidence auditor & gap finder
  03-critic.md        ← Case study structure auditor
  04-narrator.md      ← Copy architect (Jobs + Simon Pan)
  05-designer.md      ← Frontend architect
```

Each agent file is a complete prompt. You can edit them directly to change behavior.

---

## Project Structure

```
portfolio-agents/
├── CLAUDE.md                    ← Project bible (immutable positioning)
├── README.md                    ← This file
├── agents/
│   ├── 01-strategist.md
│   ├── 02-researcher.md
│   ├── 03-critic.md
│   ├── 04-narrator.md
│   └── 05-designer.md
├── scripts/
│   ├── run-all.sh               ← Master orchestrator
│   ├── extract-output.py        ← Output extraction helper
│   └── setup-sources.sh         ← Source file setup
├── source/
│   ├── cs1-presentation.md      ← Case Study 1 raw material
│   ├── cs2-storytelling.md      ← Case Study 2 raw material
│   ├── existing-site-content.md ← Current site content
│   └── reference-image.jpg      ← Visual reference
└── outputs/                     ← Generated by agents
    ├── positioning-brief.md
    ├── evidence-gaps.md
    ├── case-study-audit.md
    ├── final-copy.md
    └── index.html
```

---

## Customization

### Change the positioning
Edit the `## Positioning` section in `CLAUDE.md`. All agents read this as the immutable source of truth.

### Change the visual style
Edit the `## Visual Direction` section in `agents/05-designer.md`.

### Change the copy voice
Edit the `## Voice Rules` section in `agents/04-narrator.md`.

### Change what the critic looks for
Edit the `## Evaluation Framework` section in `agents/03-critic.md`.

---

## Troubleshooting

**Agent produces no output:**
```bash
cat /tmp/agent_N_raw_output.txt  # Check raw Claude response
```

**HTML looks wrong:**
```bash
bash scripts/run-all.sh 5  # Regenerate designer only
```

**Copy is off-positioning:**
```bash
# Edit outputs/case-study-audit.md to add prescriptions
bash scripts/run-all.sh 4  # Rerun narrator with edits
```
